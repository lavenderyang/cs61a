<!DOCTYPE html>
<!-- saved from url=(0030)https://cs61a.org/hw/sol-hw04/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="CS 61A: Structure and Interpretation of Computer Programs">
    <meta name="keywords" content="CS 61A, Computer Science, CS, 61A, Programming, John DeNero, Berkeley, EECS">
    <meta name="author" content="Chae Park, Kavi Gupta, Ryan Moughan">
    
    <meta name="viewport" content="width=device-width">

    <script src="./Homework 4 Solutions _ CS 61A Summer 2020_files/jquery.min.js.download"></script>
    <script src="./Homework 4 Solutions _ CS 61A Summer 2020_files/bootstrap.min.js.download"></script>
    <script src="./Homework 4 Solutions _ CS 61A Summer 2020_files/hl.js.download"></script>
    <script>
        // we aren't registering builtins since
        //      (1) they don't render differently in the current CSS from other names
        //      (2) it's a mess to list all of them. You can extract from the site but that takes effort
        // if (1) ceases to be true, (2) might be worth the effort. For now, we're leaving as is
        hljsRegister({
            'keyword': "define if cond and or let begin lambda mu quote delay cons-stream set! quasiquote unquote unquote-splicing define-macro"
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script src="./Homework 4 Solutions _ CS 61A Summer 2020_files/dark-mode.js.download"></script>
    <link rel="stylesheet" href="./Homework 4 Solutions _ CS 61A Summer 2020_files/bootstrap.min.css">
    <link rel="stylesheet" href="./Homework 4 Solutions _ CS 61A Summer 2020_files/css">
    <link rel="stylesheet" href="./Homework 4 Solutions _ CS 61A Summer 2020_files/style.css">
    <link rel="stylesheet" href="./Homework 4 Solutions _ CS 61A Summer 2020_files/mono-blue.css">
    <link rel="icon" href="https://cs61a.org/assets/images/favicon.ico">

    

<link rel="stylesheet" type="text/css" href="./Homework 4 Solutions _ CS 61A Summer 2020_files/hw.css">


    <title>
Homework 4 Solutions | CS 61A Summer 2020
</title>
  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://cs61a.org/">
            <img style="max-width:60px; margin-top: -20px;" class="logo" src="./Homework 4 Solutions _ CS 61A Summer 2020_files/logo.png">
          </a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://cs61a.org/weekly.html">Weekly Schedule</a></li>
            <li><a href="https://cs61a.org/office-hours.html">Office Hours</a></li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="https://cs61a.org/hw/sol-hw04/#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://cs61a.org/instructor.html">Instructors</a></li>
                <li><a href="https://cs61a.org/TAs.html">TAs</a></li>
                <li><a href="https://cs61a.org/tutors.html">Tutors</a></li>
                <!-- <li><a href="/academic-interns.html">Academic Interns</a></li> -->
              </ul>
            </li>
            <li><a href="https://cs61a.org/resources.html">Resources</a></li>
            <li><a href="https://cs61a.org/articles/about.html">Syllabus</a></li>
            <li><a href="https://piazza.com/berkeley/summer2020/cs61a" target="_blank">Piazza</a></li>
            <li><a href="https://denero.org/feedback.html" target="_blank">Feedback</a></li>
            <li><a href="https://edge.edx.org/courses/course-v1:BerkeleyX+CSW61A+2020_SP">EdX</a></li>
            <!-- <li><a href="https://scheme.cs61a.org">Scheme</a></li> -->
            <!-- <li><a href="https://sql.cs61a.org">SQL</a></li> -->
            <li><a href="https://code.cs61a.org/">Code</a></li>
            <li><a href="http://tutor.cs61a.org/">Tutor</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class="row">
  <div class="col-md-9">
    <header>
      <h1>
        
Homework 4 Solutions

        
        
        <ul class="inline-block list-inline">
          <li><a href="https://cs61a.org/hw/sol-hw04/hw04.zip" class="label label-outline">hw04.zip</a></li>
        </ul>
        
        
      </h1>
    </header>
    
<h2>Solution Files</h2>
<p>You can find the solutions in <a href="https://cs61a.org/hw/sol-hw04/hw04.py">hw04.py</a>.</p>

    
<h1 id="required-questions">Required questions</h1>



<h2 id="abstraction">Abstraction</h2>


<h2 id="mobiles">Mobiles</h2>


<p><strong>Acknowledgements.</strong> This mobile example is based on
a classic problem from Structure and Interpretation of Computer Programs,
<a href="https://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book-Z-H-15.html#%_sec_2.2.2">Section 2.2.2</a>.</p>

<!-- > <strong>Hint:</strong> for more information on this problem (with more pictures!) please refer to <a href="assets/mobiles.pdf">this document</a> -->

<p><img class="img-responsive center-block" src="./Homework 4 Solutions _ CS 61A Summer 2020_files/mobile-planet.png" alt="Mobile example"></p>

<p>We are making a planetarium mobile. A <a href="https://images.zanui.com.au/unsafe/1600x/filters:sharpen(1,0.2,1):quality(80)/production-static.aws.zanui.com.au/p/authentic-models-0459-1.jpg">mobile</a> is a type of hanging sculpture. A binary mobile consists of two
arms. Each arm is a rod of a certain length, from which hangs either a planet
or another mobile. For example, the below diagram shows the left and right arms of Mobile A,
and what hangs at the ends of each of those arms.</p>

<p><img class="img-responsive center-block" src="./Homework 4 Solutions _ CS 61A Summer 2020_files/mobile-planet-labeled.png" alt="Labeled Mobile example"></p>

<p>We will represent a binary mobile using the data abstractions below.</p>

<ul>
  <li>A <code>mobile</code> must have both a left <code>arm</code> and a right <code>arm</code>.</li>
  <li>An <code>arm</code> has a positive length and must have something hanging at the end, either a <code>mobile</code> or <code>planet</code>.</li>
  <li>A <code>planet</code> has a positive size, and nothing hanging from it.</li>
</ul>


<h3 id="arms-length-recursion-sidenote">Arms-length recursion (sidenote)</h3>


<p>Before we get started, a quick comment on recursion with tree data structures. Consider the following function.</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">min_depth</span><span class="hljs-params">(t)</span>:</span>
    <span class="hljs-string">"""A simple function to return the distance between t's root and its closest leaf"""</span>
    <span class="hljs-keyword">if</span> is_leaf(t):
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span> <span class="hljs-comment"># Base case---the distance between a node and itself is zero</span>
    h = float(<span class="hljs-string">'inf'</span>) <span class="hljs-comment"># Python's version of infinity</span>
    <span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> branches(t):
        <span class="hljs-keyword">if</span> is_leaf(b): <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> <span class="hljs-comment"># !!!</span>
        h = min(h, <span class="hljs-number">1</span> + min_depth(b))
    <span class="hljs-keyword">return</span> h</code></pre>

<p>The line flagged with <code>!!!</code> is an "arms-length" recursion violation. Although our code works correctly when it is present, by performing this check we are doing work that should be done by the next level of recursionâ€”we already have an if-statement that handles any inputs to <code>min_depth</code> that are leaves, so we should not include this line to eliminate redundancy in our code.</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">min_depth</span><span class="hljs-params">(t)</span>:</span>
    <span class="hljs-string">"""A simple function to return the distance between t's root and its closest leaf"""</span>
    <span class="hljs-keyword">if</span> is_leaf(t):
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
    h = float(<span class="hljs-string">'inf'</span>)
    <span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> branches(t):
        <span class="hljs-comment"># Still works fine!</span>
        h = min(h, <span class="hljs-number">1</span> + min_depth(b))
    <span class="hljs-keyword">return</span> h</code></pre>

<p>Arms-length recursion is not only redundant but often complicates our code and obscures the functionality of recursive functions, making writing recursive functions much more difficult. We always want our recursive case to be handling one and only one recursive level. We may or may not be checking your code periodically for things like this.</p>

<h3 class="question" id="q1">Q1: Weights</h3>

<p>Implement the <code>planet</code> data abstraction by completing the <code>planet</code> constructor
and the <code>size</code> selector so that a planet is represented using a two-element list
where the first element is the string <code>'planet'</code> and the second element is its size.
The <code>total_weight</code> example is provided to demonstrate use of the mobile, arm,
and planet abstractions.</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">mobile</span><span class="hljs-params">(left, right)</span>:</span>
    <span class="hljs-string">"""Construct a mobile from a left arm and a right arm."""</span>
    <span class="hljs-keyword">assert</span> is_arm(left), <span class="hljs-string">"left must be a arm"</span>
    <span class="hljs-keyword">assert</span> is_arm(right), <span class="hljs-string">"right must be a arm"</span>
    <span class="hljs-keyword">return</span> [<span class="hljs-string">'mobile'</span>, left, right]

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">is_mobile</span><span class="hljs-params">(m)</span>:</span>
    <span class="hljs-string">"""Return whether m is a mobile."""</span>
    <span class="hljs-keyword">return</span> type(m) == list <span class="hljs-keyword">and</span> len(m) == <span class="hljs-number">3</span> <span class="hljs-keyword">and</span> m[<span class="hljs-number">0</span>] == <span class="hljs-string">'mobile'</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">left</span><span class="hljs-params">(m)</span>:</span>
    <span class="hljs-string">"""Select the left arm of a mobile."""</span>
    <span class="hljs-keyword">assert</span> is_mobile(m), <span class="hljs-string">"must call left on a mobile"</span>
    <span class="hljs-keyword">return</span> m[<span class="hljs-number">1</span>]

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">right</span><span class="hljs-params">(m)</span>:</span>
    <span class="hljs-string">"""Select the right arm of a mobile."""</span>
    <span class="hljs-keyword">assert</span> is_mobile(m), <span class="hljs-string">"must call right on a mobile"</span>
    <span class="hljs-keyword">return</span> m[<span class="hljs-number">2</span>]</code></pre>

<!-- hack -->

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">arm</span><span class="hljs-params">(length, mobile_or_planet)</span>:</span>
    <span class="hljs-string">"""Construct a arm: a length of rod with a mobile or planet at the end."""</span>
    <span class="hljs-keyword">assert</span> is_mobile(mobile_or_planet) <span class="hljs-keyword">or</span> is_planet(mobile_or_planet)
    <span class="hljs-keyword">return</span> [<span class="hljs-string">'arm'</span>, length, mobile_or_planet]

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">is_arm</span><span class="hljs-params">(s)</span>:</span>
    <span class="hljs-string">"""Return whether s is a arm."""</span>
    <span class="hljs-keyword">return</span> type(s) == list <span class="hljs-keyword">and</span> len(s) == <span class="hljs-number">3</span> <span class="hljs-keyword">and</span> s[<span class="hljs-number">0</span>] == <span class="hljs-string">'arm'</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">length</span><span class="hljs-params">(s)</span>:</span>
    <span class="hljs-string">"""Select the length of a arm."""</span>
    <span class="hljs-keyword">assert</span> is_arm(s), <span class="hljs-string">"must call length on a arm"</span>
    <span class="hljs-keyword">return</span> s[<span class="hljs-number">1</span>]

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">end</span><span class="hljs-params">(s)</span>:</span>
    <span class="hljs-string">"""Select the mobile or planet hanging at the end of a arm."""</span>
    <span class="hljs-keyword">assert</span> is_arm(s), <span class="hljs-string">"must call end on a arm"</span>
    <span class="hljs-keyword">return</span> s[<span class="hljs-number">2</span>]</code></pre>

<!-- hack -->

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">planet</span><span class="hljs-params">(size)</span>:</span>
    <span class="hljs-string">"""Construct a planet of some size."""</span>
    <span class="hljs-keyword">assert</span> size &gt; <span class="hljs-number">0</span>
<div class="sol-highlight">    <span class="hljs-keyword">return</span> [<span class="hljs-string">'planet'</span>, size]</div>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">size</span><span class="hljs-params">(w)</span>:</span>
    <span class="hljs-string">"""Select the size of a planet."""</span>
    <span class="hljs-keyword">assert</span> is_planet(w), <span class="hljs-string">'must call size on a planet'</span>
<div class="sol-highlight">    <span class="hljs-keyword">return</span> w[<span class="hljs-number">1</span>]</div>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">is_planet</span><span class="hljs-params">(w)</span>:</span>
    <span class="hljs-string">"""Whether w is a planet."""</span>
    <span class="hljs-keyword">return</span> type(w) == list <span class="hljs-keyword">and</span> len(w) == <span class="hljs-number">2</span> <span class="hljs-keyword">and</span> w[<span class="hljs-number">0</span>] == <span class="hljs-string">'planet'</span></code></pre>

<!-- hack -->

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">total_weight</span><span class="hljs-params">(m)</span>:</span>
    <span class="hljs-string">"""Return the total weight of m, a planet or mobile.

    &gt;&gt;&gt; t, u, v = examples()
    &gt;&gt;&gt; total_weight(t)
    3
    &gt;&gt;&gt; total_weight(u)
    6
    &gt;&gt;&gt; total_weight(v)
    9
    &gt;&gt;&gt; from construct_check import check
    &gt;&gt;&gt; # checking for abstraction barrier violations by banning indexing
    &gt;&gt;&gt; check(HW_SOURCE_FILE, 'total_weight', ['Index'])
    True
    """</span>
    <span class="hljs-keyword">if</span> is_planet(m):
        <span class="hljs-keyword">return</span> size(m)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">assert</span> is_mobile(m), <span class="hljs-string">"must get total weight of a mobile or a planet"</span>
        <span class="hljs-keyword">return</span> total_weight(end(left(m))) + total_weight(end(right(m)))</code></pre>

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q total_weight</code></pre>

<h3 class="question" id="q2">Q2: Balanced</h3>

<!-- > <strong>Hint:</strong> for more information on this problem (with more pictures!) please refer to <a href="assets/mobiles.pdf#page=3">this document</a>. -->

<p>Implement the <code>balanced</code> function, which returns whether <code>m</code> is a balanced
mobile. A mobile is balanced if two conditions are met:</p>

<ol>
  <li>The torque applied by its left arm is equal to that applied by its right
  arm. The torque of the left arm is the length of the left rod multiplied by the
  total weight hanging from that rod. Likewise for the right. For example,
  if the left arm has a length of <code>5</code>, and there is a <code>mobile</code> hanging at the end
  of the left arm of weight <code>10</code>, the torque on the left side of our mobile is <code>50</code>.</li>
  <li>Each of the mobiles hanging at the end of its arms is balanced.</li>
</ol>

<p>Planets themselves are balanced, as there is nothing hanging off of them.</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">balanced</span><span class="hljs-params">(m)</span>:</span>
    <span class="hljs-string">"""Return whether m is balanced.

    &gt;&gt;&gt; t, u, v = examples()
    &gt;&gt;&gt; balanced(t)
    True
    &gt;&gt;&gt; balanced(v)
    True
    &gt;&gt;&gt; w = mobile(arm(3, t), arm(2, u))
    &gt;&gt;&gt; balanced(w)
    False
    &gt;&gt;&gt; balanced(mobile(arm(1, v), arm(1, w)))
    False
    &gt;&gt;&gt; balanced(mobile(arm(1, w), arm(1, v)))
    False
    &gt;&gt;&gt; from construct_check import check
    &gt;&gt;&gt; # checking for abstraction barrier violations by banning indexing
    &gt;&gt;&gt; check(HW_SOURCE_FILE, 'balanced', ['Index'])
    True
    """</span>
<div class="sol-highlight">    <span class="hljs-keyword">if</span> is_planet(m):
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
    <span class="hljs-keyword">else</span>:
        left_end, right_end = end(left(m)), end(right(m))
        torque_left = length(left(m)) * total_weight(left_end)
        torque_right = length(right(m)) * total_weight(right_end)
        <span class="hljs-keyword">return</span> balanced(left_end) <span class="hljs-keyword">and</span> balanced(right_end) <span class="hljs-keyword">and</span> torque_left == torque_right</div></code></pre>

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q balanced</code></pre>

<div class="sol-highlight">

<p>The fact that planets are balanced is important, since we will be solving
this recursively like many other tree problems (even though this is not
explicitly a tree).</p>

<ul>
  <li><p><strong>Base case:</strong> if we are checking a planet, then we know that this is
  balanced. Why is this an appropriate base case? There are two possible
  approaches to this:</p>

  <ol>
    <li>Because we know that our data structures so far are trees, planets
    are the simplest possible tree since we have chosen to implement
    them as leaves.</li>
    <li>We also know that from an ADT standpoint, planets are the terminal
    item in a mobile. There can be no further mobile structures under
    this planet, so it makes sense to stop check here.</li>
  </ol></li>
  <li><strong>Otherwise:</strong> note that it is important to do a recursive call to check
  if both arms are balanced. However, we also need to do the basic
  comparison of looking at the total weight of both arms as well as their
  length. For example if both arms are a planet, trivially, they will
  both be balanced. However, the torque must be equal in order for the
  entire mobile to balanced (i.e. it's insufficient to just check if the
  arms are balanced).</li>
</ul>

</div>

<h3 class="question" id="q3">Q3: Totals</h3>

<p>Implement <code>totals_tree</code>, which takes a <code>mobile</code> (or <code>planet</code>) and returns a
<code>tree</code> whose root is the total weight of the input. For a <code>planet</code>, <code>totals_tree</code>
should return a leaf. For a <code>mobile</code>, <code>totals_tree</code> should return a tree whose
label is that <code>mobile</code>'s total weight, and whose branches are <code>totals_tree</code>s for the
ends of its arms.</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">totals_tree</span><span class="hljs-params">(m)</span>:</span>
    <span class="hljs-string">"""Return a tree representing the mobile with its total weight at the root.

    &gt;&gt;&gt; t, u, v = examples()
    &gt;&gt;&gt; print_tree(totals_tree(t))
    3
      2
      1
    &gt;&gt;&gt; print_tree(totals_tree(u))
    6
      1
      5
        3
        2
    &gt;&gt;&gt; print_tree(totals_tree(v))
    9
      3
        2
        1
      6
        1
        5
          3
          2
    &gt;&gt;&gt; from construct_check import check
    &gt;&gt;&gt; # checking for abstraction barrier violations by banning indexing
    &gt;&gt;&gt; check(HW_SOURCE_FILE, 'totals_tree', ['Index'])
    True
    """</span>
<div class="sol-highlight">    <span class="hljs-keyword">if</span> is_planet(m):
        <span class="hljs-keyword">return</span> tree(size(m))
    <span class="hljs-keyword">else</span>:
        branches = [totals_tree(end(f(m))) <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> [left, right]]
        <span class="hljs-keyword">return</span> tree(sum([label(b) <span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> branches]), branches)</div></code></pre>

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q totals_tree</code></pre>


<h2 id="trees">Trees</h2>

<h3 class="question" id="q4">Q4: Replace Leaf</h3>

<p>Define <code>replace_leaf</code>, which takes a tree <code>t</code>, a value <code>find_value</code>, and a value
<code>replace_value</code>. <code>replace_leaf</code> returns a new tree that's the same as <code>t</code> except
that every leaf label equal to <code>find_value</code> has been replaced with <code>replace_value</code>.</p>

<solution>

<pre><code class="hljs sql">def replace_leaf(t, find_value, replace_value):
    """Returns a new tree where every leaf value equal to find_value has
    been replaced <span class="hljs-keyword">with</span> replace_value.

    &gt;&gt;&gt; yggdrasil = tree(<span class="hljs-string">'odin'</span>,
    ...                  [tree(<span class="hljs-string">'balder'</span>,
    ...                        [tree(<span class="hljs-string">'thor'</span>),
    ...                         tree(<span class="hljs-string">'freya'</span>)]),
    ...                   tree(<span class="hljs-string">'frigg'</span>,
    ...                        [tree(<span class="hljs-string">'thor'</span>)]),
    ...                   tree(<span class="hljs-string">'thor'</span>,
    ...                        [tree(<span class="hljs-string">'sif'</span>),
    ...                         tree(<span class="hljs-string">'thor'</span>)]),
    ...                   tree(<span class="hljs-string">'thor'</span>)])
    &gt;&gt;&gt; laerad = copy_tree(yggdrasil) <span class="hljs-comment"># copy yggdrasil for testing purposes</span>
    &gt;&gt;&gt; print_tree(replace_leaf(yggdrasil, <span class="hljs-string">'thor'</span>, <span class="hljs-string">'freya'</span>))
    odin
      balder
        freya
        freya
      frigg
        freya
      thor
        sif
        freya
      freya
    &gt;&gt;&gt; laerad == yggdrasil <span class="hljs-comment"># Make sure original tree is unmodified</span>
    <span class="hljs-literal">True</span>
    <span class="hljs-string">"""
</span><div class="sol-highlight"><span class="hljs-string">    if is_leaf(t) and label(t) == find_value:
        return tree(replace_value)
    else:
        bs = [replace_leaf(b, find_value, replace_value) for b in branches(t)]
        return tree(label(t), bs)</span></div></code></pre>

</solution>

<br>

<p>Watch the hints video below for somewhere to start:

            <iframe width="560" height="315" src="./Homework 4 Solutions _ CS 61A Summer 2020_files/FUIXaJaReOA.html" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>

<br>

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q replace_leaf</code></pre>

<!--
<div class="sol-highlight">

<p>We approach this problem recursively.</p>

<ul>
  <li><p><strong>Base Case:</strong> if the tree is a leaf, we can immediately decide what to
  do. If the label matches the find<em>value label, we return a tree with the replace</em>value label. Otherwise, we just return the original tree. In our solution, it
  looks like we always recurse over the branches:</p>

<pre><code>bs = [replace_leaf(b, find_value, replace_value) for b in branches(t)]</code></pre>

  <p>But this will not do anything for a leaf, since <code>branches(t)</code> is an
  empty sequence. It's also possible to have a separate case.</p></li>
  <li><strong>Otherwise:</strong> we cannot do anything about the current element, since
  we're only allowed to replace at leaves. Therefore, we need to examine
  all of our branches, and replace their leaves. After replacing their
  leaves, we can return an updated tree.</li>
</ul>

</div>
-->

<h3 class="question" id="q5">Q5: Preorder</h3>

<p>Define the function <code>preorder</code>, which takes in a tree as an argument and
returns a list of all the entries in the tree in the order that
<code>print_tree</code> would print them.</p>

<p>The following diagram shows the order that the nodes would get printed,
with the arrows representing function calls.</p>

<p><img class="img-responsive center-block" src="./Homework 4 Solutions _ CS 61A Summer 2020_files/preorder.png" alt="preorder"></p>

<blockquote><p><em>Note</em>: This ordering of the nodes in a tree is called a preorder traversal.</p></blockquote>

<solution>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">preorder</span><span class="hljs-params">(t)</span>:</span>
    <span class="hljs-string">"""Return a list of the entries in this tree in the order that they
    would be visited by a preorder traversal (see problem description).

    &gt;&gt;&gt; numbers = tree(1, [tree(2), tree(3, [tree(4), tree(5)]), tree(6, [tree(7)])])
    &gt;&gt;&gt; preorder(numbers)
    [1, 2, 3, 4, 5, 6, 7]
    &gt;&gt;&gt; preorder(tree(2, [tree(4, [tree(6)])]))
    [2, 4, 6]
    """</span>
<div class="sol-highlight">    <span class="hljs-keyword">if</span> branches(t) == []:
        <span class="hljs-keyword">return</span> [label(t)]
    flattened_branches = []
    <span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> branches(t):
        flattened_branches += preorder(child)
    <span class="hljs-keyword">return</span> [label(t)] + flattened_branches

<span class="hljs-comment"># Alternate solution</span>
<span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> reduce

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">preorder_alt</span><span class="hljs-params">(t)</span>:</span>
    <span class="hljs-keyword">return</span> reduce(add, [preorder(child) <span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> branches(t)], [label(t)])</div></code></pre>

</solution>

<br>

<p>Watch the hints video below for somewhere to start:

            <iframe width="560" height="315" src="./Homework 4 Solutions _ CS 61A Summer 2020_files/4UHhxiynpmk.html" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>

<br>

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q preorder</code></pre>

<h3 class="question" id="q6">Q6: Has Path</h3>

<p>Write a function <code>has_path</code> that takes in a tree <code>t</code> and a string <code>phrase</code>. It
returns <code>True</code> if there is a path that starts from the root where the entries
along the path spell out the <code>phrase</code>, and <code>False</code> otherwise. (This data structure
is called a trie, and it has a lot of cool applications!---think autocomplete). You
may assume that every node's <code>label</code> is exactly one character.</p>

<solution>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">has_path</span><span class="hljs-params">(t, phrase)</span>:</span>
    <span class="hljs-string">"""Return whether there is a path in a tree where the entries along the path
    spell out a particular phrase.

    &gt;&gt;&gt; greetings = tree('h', [tree('i'),
    ...                        tree('e', [tree('l', [tree('l', [tree('o')])]),
    ...                                   tree('y')])])
    &gt;&gt;&gt; print_tree(greetings)
    h
      i
      e
        l
          l
            o
        y
    &gt;&gt;&gt; has_path(greetings, 'h')
    True
    &gt;&gt;&gt; has_path(greetings, 'i')
    False
    &gt;&gt;&gt; has_path(greetings, 'hi')
    True
    &gt;&gt;&gt; has_path(greetings, 'hello')
    True
    &gt;&gt;&gt; has_path(greetings, 'hey')
    True
    &gt;&gt;&gt; has_path(greetings, 'bye')
    False
    """</span>
    <span class="hljs-keyword">assert</span> len(phrase) &gt; <span class="hljs-number">0</span>, <span class="hljs-string">'no path for empty phrases.'</span>
<div class="sol-highlight">    <span class="hljs-keyword">if</span> label(t) != phrase[<span class="hljs-number">0</span>]:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
    <span class="hljs-keyword">elif</span> len(phrase) == <span class="hljs-number">1</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
    <span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> branches(t):
        <span class="hljs-keyword">if</span> has_path(b, phrase[<span class="hljs-number">1</span>:]):
            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span></div></code></pre>

</solution>

<br>

<p>Watch the hints video below for somewhere to start:

            <iframe width="560" height="315" src="./Homework 4 Solutions _ CS 61A Summer 2020_files/KBaK9EmWusc.html" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>

<br>

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q has_path</code></pre>


<h2 id="submit">Submit</h2>


<p>Make sure to submit this assignment by running:</p>

<pre><code class="hljs sql">python3 ok <span class="hljs-comment">--submit</span></code></pre>


<h1 id="extra-questions">Extra Questions</h1>


<h3 class="question" id="q7">Q7: Interval Abstraction</h3>

<p>Alyssa's program is incomplete because she has not specified the implementation
of the interval abstraction. She has implemented the constructor for you; fill
in the implementation of the selectors.</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">interval</span><span class="hljs-params">(a, b)</span>:</span>
    <span class="hljs-string">"""Construct an interval from a to b."""</span>
<div class="sol-highlight">    <span class="hljs-keyword">assert</span> a &lt;= b, <span class="hljs-string">'Lower bound cannot be greater than upper bound'</span></div>    <span class="hljs-keyword">return</span> [a, b]

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">lower_bound</span><span class="hljs-params">(x)</span>:</span>
    <span class="hljs-string">"""Return the lower bound of interval x."""</span>
<div class="sol-highlight">    <span class="hljs-keyword">return</span> x[<span class="hljs-number">0</span>]</div>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">upper_bound</span><span class="hljs-params">(x)</span>:</span>
    <span class="hljs-string">"""Return the upper bound of interval x."""</span>
<div class="sol-highlight">    <span class="hljs-keyword">return</span> x[<span class="hljs-number">1</span>]</div></code></pre>

<p>Use Ok to unlock and test your code:</p><pre><code class="nohighlight">python3 ok -q interval -u
python3 ok -q interval</code></pre>

<p>Louis Reasoner has also provided an implementation of interval
multiplication. Beware: there are some data abstraction violations, so help him
fix his code before someone <a href="https://cs61a.org/hw/sol-hw04/%3Ca%20href=&#39;https://youtu.be/QwoghxwETng&#39;%3E%20https://youtu.be/QwoghxwETng%20%3C/a%3E">sets it on fire</a>.</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">mul_interval</span><span class="hljs-params">(x, y)</span>:</span>
    <span class="hljs-string">"""Return the interval that contains the product of any value in x and any
    value in y."""</span>
    p1 = x[<span class="hljs-number">0</span>] * y[<span class="hljs-number">0</span>]
    p2 = x[<span class="hljs-number">0</span>] * y[<span class="hljs-number">1</span>]
    p3 = x[<span class="hljs-number">1</span>] * y[<span class="hljs-number">0</span>]
    p4 = x[<span class="hljs-number">1</span>] * y[<span class="hljs-number">1</span>]
    <span class="hljs-keyword">return</span> [min(p1, p2, p3, p4), max(p1, p2, p3, p4)]</code></pre>

<p>Use Ok to unlock and test your code:</p><pre><code class="nohighlight">python3 ok -q mul_interval -u
python3 ok -q mul_interval</code></pre>

<div class="sol-highlight">

<p>Video walkthrough: <a href="https://youtu.be/RiLrqgBm4Dk"> https://youtu.be/RiLrqgBm4Dk </a></p>

</div>

<h3 class="question" id="q8">Q8: Sub Interval</h3>

<p>Using reasoning analogous to Alyssa's, define a subtraction function for
intervals. Try to reuse functions that have already been implemented if you
find yourself repeating code.</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sub_interval</span><span class="hljs-params">(x, y)</span>:</span>
    <span class="hljs-string">"""Return the interval that contains the difference between any value in x
    and any value in y."""</span>
<div class="sol-highlight">    negative_y = interval(-upper_bound(y), -lower_bound(y))
    <span class="hljs-keyword">return</span> add_interval(x, negative_y)</div></code></pre>

<p>Use Ok to unlock and test your code:</p><pre><code class="nohighlight">python3 ok -q sub_interval -u
python3 ok -q sub_interval</code></pre>

<div class="sol-highlight">

<p>Video walkthrough: <a href="https://youtu.be/s37VvawB0vE"> https://youtu.be/s37VvawB0vE </a></p>

</div>

<h3 class="question" id="q9">Q9: Div Interval</h3>

<p>Alyssa implements division below by multiplying by the reciprocal of
<code>y</code>. Ben Bitdiddle, an expert systems programmer, looks over Alyssa's
shoulder and comments that it is not clear what it means to divide by
an interval that spans zero. Add an <code>assert</code> statement to Alyssa's code
to ensure that no such interval is used as a divisor:</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">div_interval</span><span class="hljs-params">(x, y)</span>:</span>
    <span class="hljs-string">"""Return the interval that contains the quotient of any value in x divided by
    any value in y. Division is implemented as the multiplication of x by the
    reciprocal of y."""</span>
<div class="sol-highlight">    <span class="hljs-keyword">assert</span> <span class="hljs-keyword">not</span> (lower_bound(y) &lt;= <span class="hljs-number">0</span> &lt;= upper_bound(y)), <span class="hljs-string">'Divide by zero'</span></div>    reciprocal_y = interval(<span class="hljs-number">1</span>/upper_bound(y), <span class="hljs-number">1</span>/lower_bound(y))
    <span class="hljs-keyword">return</span> mul_interval(x, reciprocal_y)</code></pre>

<p>Use Ok to unlock and test your code:</p><pre><code class="nohighlight">python3 ok -q div_interval -u
python3 ok -q div_interval</code></pre>

<div class="sol-highlight">

<p>Video walkthrough: <a href="https://youtu.be/jNR7tmV1lMk"> https://youtu.be/jNR7tmV1lMk </a></p>

</div>

<h3 class="question" id="q10">Q10: Multiple References</h3>

<p>Eva Lu Ator, another user, has also noticed the different intervals
computed by different but algebraically equivalent expressions. She
says that the problem is multiple references to the same interval.</p>

<p>The Multiple References Problem: a formula to compute with intervals
using Alyssa's system will produce tighter error bounds if it can be
written in such a form that no variable that represents an uncertain
number is repeated.</p>

<p>Thus, she says, <code>par2</code> is a better program for parallel resistances
than <code>par1</code> (see Q12: Par Diff for these functions!). Is she right? Why? Write a function that returns a string
containing a written explanation of your answer:</p>

<p>Note: To make a multi-line string, you must use triple quotes <code>""" like this """</code>.</p>

<pre><code class="hljs sql">def multiple_references_explanation():
<div class="sol-highlight">    return """The multiple reference problem exists.  The true value
    within a particular interval is fixed (though unknown).  Nested
    combinations that refer to the same interval twice may assume two different
    true <span class="hljs-keyword">values</span> <span class="hljs-keyword">for</span> the same <span class="hljs-built_in">interval</span>, which <span class="hljs-keyword">is</span> an <span class="hljs-keyword">error</span> that results <span class="hljs-keyword">in</span>
    intervals that <span class="hljs-keyword">are</span> larger <span class="hljs-keyword">than</span> they should be.

    <span class="hljs-keyword">Consider</span> the <span class="hljs-keyword">case</span> <span class="hljs-keyword">of</span> i * i, <span class="hljs-keyword">where</span> i <span class="hljs-keyword">is</span> an <span class="hljs-built_in">interval</span> <span class="hljs-keyword">from</span> <span class="hljs-number">-1</span> <span class="hljs-keyword">to</span> <span class="hljs-number">1.</span>  <span class="hljs-keyword">No</span> <span class="hljs-keyword">value</span>
    <span class="hljs-keyword">within</span> this <span class="hljs-built_in">interval</span>, <span class="hljs-keyword">when</span> squared, will give a negative result.  However,
    our mul_interval <span class="hljs-keyword">function</span> will <span class="hljs-keyword">allow</span> us <span class="hljs-keyword">to</span> <span class="hljs-keyword">choose</span> <span class="hljs-number">1</span> <span class="hljs-keyword">from</span> the <span class="hljs-keyword">first</span>
    <span class="hljs-keyword">reference</span> <span class="hljs-keyword">to</span> i <span class="hljs-keyword">and</span> <span class="hljs-number">-1</span> <span class="hljs-keyword">from</span> the <span class="hljs-keyword">second</span>, giving an erroneous <span class="hljs-keyword">lower</span> <span class="hljs-keyword">bound</span> <span class="hljs-keyword">of</span>
    <span class="hljs-number">-1.</span>

    Hence, a program <span class="hljs-keyword">like</span> par2 <span class="hljs-keyword">is</span> better <span class="hljs-keyword">than</span> par1 because it <span class="hljs-keyword">never</span> combines
    the same <span class="hljs-built_in">interval</span> more <span class="hljs-keyword">than</span> once.
    <span class="hljs-string">"""</span></div></code></pre>

<div class="sol-highlight">

<p>Video walkthrough: <a href="https://youtu.be/H8slb5KCbU4"> https://youtu.be/H8slb5KCbU4 </a></p>

</div>

<h3 class="question" id="q11">Q11: Quadratic</h3>

<p>Write a function <code>quadratic</code> that returns the interval of all values
<code>f(t)</code> such that <code>t</code> is in the argument interval <code>x</code> and <code>f(t)</code> is a
<a href="http://en.wikipedia.org/wiki/Quadratic_function">quadratic function</a>:</p>

<pre><code class="hljs">f(t) = a*t*t + b*t + c</code></pre>

<p>Make sure that your implementation returns the smallest such interval,
one that does not suffer from the multiple references problem.</p>

<p><em>Hint</em>: the derivative <code>f'(t) = 2*a*t + b</code>, and so the extreme
point of the quadratic is <code>-b/(2*a)</code>:</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">quadratic</span><span class="hljs-params">(x, a, b, c)</span>:</span>
    <span class="hljs-string">"""Return the interval that is the range of the quadratic defined by
    coefficients a, b, and c, for domain interval x.

    &gt;&gt;&gt; str_interval(quadratic(interval(0, 2), -2, 3, -1))
    '-3 to 0.125'
    &gt;&gt;&gt; str_interval(quadratic(interval(1, 3), 2, -3, 1))
    '0 to 10'
    """</span>
<div class="sol-highlight">    extremum = -b / (<span class="hljs-number">2</span>*a)
    f = <span class="hljs-keyword">lambda</span> x: a * x * x + b * x + c
    l, u, e = map(f, (lower_bound(x), upper_bound(x), extremum))
    <span class="hljs-keyword">if</span> extremum &gt;= lower_bound(x) <span class="hljs-keyword">and</span> extremum &lt;= upper_bound(x):
        <span class="hljs-keyword">return</span> interval(min(l, u, e), max(l, u, e))
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> interval(min(l, u), max(l, u))</div></code></pre>

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q quadratic</code></pre>

<div class="sol-highlight">

<p>Video walkthrough: <a href="https://youtu.be/qgSn_RNBs4A"> https://youtu.be/qgSn_RNBs4A </a></p>

</div>

<h3 class="question" id="q12">Q12: Par Diff</h3>

<p>After considerable work, Alyssa P. Hacker delivers her finished system.  Several
years later, after she has forgotten all about it, she gets a frenzied call from
an irate user, Lem E. Tweakit. It seems that Lem has noticed that the
<a href="https://en.wikipedia.org/wiki/Series_and_parallel_circuits#Resistors_2">formula for parallel resistors</a>
can be written in two algebraically equivalent ways:</p>

<pre><code class="hljs">par1(r1, r2) = (r1 * r2) / (r1 + r2)</code></pre>

<p>or</p>

<pre><code class="hljs">par2(r1, r2) = 1 / (1/r1 + 1/r2)</code></pre>

<p>He has written the following two programs, each of which computes the
<code>parallel_resistors</code> formula differently::</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">par1</span><span class="hljs-params">(r1, r2)</span>:</span>
    <span class="hljs-keyword">return</span> div_interval(mul_interval(r1, r2), add_interval(r1, r2))

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">par2</span><span class="hljs-params">(r1, r2)</span>:</span>
    one = interval(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)
    rep_r1 = div_interval(one, r1)
    rep_r2 = div_interval(one, r2)
    <span class="hljs-keyword">return</span> div_interval(one, add_interval(rep_r1, rep_r2))</code></pre>

<p>Lem complains that Alyssa's program gives different answers for the two
ways of computing. This is a serious complaint.</p>

<p>Demonstrate that Lem is right. Investigate the behavior of the system
on a variety of arithmetic expressions. Make some intervals <code>r1</code> and
<code>r2</code>, and show that <code>par1</code> and <code>par2</code> can give different results.</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">check_par</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-string">"""Return two intervals that give different results for parallel resistors.

    &gt;&gt;&gt; r1, r2 = check_par()
    &gt;&gt;&gt; x = par1(r1, r2)
    &gt;&gt;&gt; y = par2(r1, r2)
    &gt;&gt;&gt; lower_bound(x) != lower_bound(y) or upper_bound(x) != upper_bound(y)
    True
    """</span>
<div class="sol-highlight">    r1 = interval(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)</div><div class="sol-highlight">    r2 = interval(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)</div>    <span class="hljs-keyword">return</span> r1, r2</code></pre>

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q check_par</code></pre>

<div class="sol-highlight">

<p>Video walkthrough: <a href="https://youtu.be/H8slb5KCbU4"> https://youtu.be/H8slb5KCbU4 </a></p>

</div>

  </div>

  <div class="col-md-3 sticky">
    <nav class="hidden-print hidden-sm hidden-xs sidebar">
      <ul class="nav nav-stacked noselect">
  <li><a href="https://cs61a.org/hw/sol-hw04/#instructions">Instructions</a></li>
  <li><a href="https://cs61a.org/hw/sol-hw04/#required-questions">Required questions</a></li>
  <ul class="nav nav-stacked noselect">
    <li><a href="https://cs61a.org/hw/sol-hw04/#abstraction">Abstraction</a></li>
    <li><a href="https://cs61a.org/hw/sol-hw04/#mobiles">Mobiles</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/hw/sol-hw04/#arms-length-recursion-sidenote">Arms-length recursion (sidenote)</a></li>
      <li><a href="https://cs61a.org/hw/sol-hw04/#q1">Q1: Weights</a></li>
      <li><a href="https://cs61a.org/hw/sol-hw04/#q2">Q2: Balanced</a></li>
      <li><a href="https://cs61a.org/hw/sol-hw04/#q3">Q3: Totals</a></li>
    </ul>
    <li><a href="https://cs61a.org/hw/sol-hw04/#trees">Trees</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/hw/sol-hw04/#q4">Q4: Replace Leaf</a></li>
      <li><a href="https://cs61a.org/hw/sol-hw04/#q5">Q5: Preorder</a></li>
      <li><a href="https://cs61a.org/hw/sol-hw04/#q6">Q6: Has Path</a></li>
    </ul>
    <li><a href="https://cs61a.org/hw/sol-hw04/#submit">Submit</a></li>
  </ul>
  <li><a href="https://cs61a.org/hw/sol-hw04/#extra-questions">Extra Questions</a></li>
  <ul class="nav nav-stacked noselect">
    <li><a href="https://cs61a.org/hw/sol-hw04/#q7">Q7: Interval Abstraction</a></li>
    <li><a href="https://cs61a.org/hw/sol-hw04/#q8">Q8: Sub Interval</a></li>
    <li><a href="https://cs61a.org/hw/sol-hw04/#q9">Q9: Div Interval</a></li>
    <li><a href="https://cs61a.org/hw/sol-hw04/#q10">Q10: Multiple References</a></li>
    <li><a href="https://cs61a.org/hw/sol-hw04/#q11">Q11: Quadratic</a></li>
    <li><a href="https://cs61a.org/hw/sol-hw04/#q12">Q12: Par Diff</a></li>
  </ul>
</ul>
    </nav>
  </div>
</div>

    </main>

    <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/weekly.html">Weekly Schedule</a></li>
            <li><a href="https://cs61a.org/office-hours.html">Office Hours</a></li>
            <li><a href="https://cs61a.org/staff.html">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/resources.html">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/articles/studying.html">Studying Guide</a></li>
            <li><a href="https://cs61a.org/articles/debugging.html">Debugging Guide</a></li>
            <li><a href="https://cs61a.org/articles/composition.html">Composition Guide</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/articles/about.html">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/articles/about.html#assignments">Assignments</a></li>
            <li><a href="https://cs61a.org/articles/about.html#exams">Exams</a></li>
            <li><a href="https://cs61a.org/articles/about.html#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer>

    

<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    console.log(target);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      // window.scrollTo(0, 0);
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      event.preventDefault();
      goToId(this.hash);
      document.location.hash = this.hash;
    }
  });
</script>

  
</body></html>