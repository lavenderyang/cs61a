<!DOCTYPE html>
<!-- saved from url=(0026)https://cs61a.org/hw/hw06/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="CS 61A: Structure and Interpretation of Computer Programs">
    <meta name="keywords" content="CS 61A, Computer Science, CS, 61A, Programming, John DeNero, Berkeley, EECS">
    <meta name="author" content="Chae Park, Kavi Gupta, Ryan Moughan">
    
    <meta name="viewport" content="width=device-width">

    <script src="./Homework 6 _ CS 61A Summer 2020_files/jquery.min.js.download"></script>
    <script src="./Homework 6 _ CS 61A Summer 2020_files/bootstrap.min.js.download"></script>
    <script src="./Homework 6 _ CS 61A Summer 2020_files/hl.js.download"></script>
    <script>
        // we aren't registering builtins since
        //      (1) they don't render differently in the current CSS from other names
        //      (2) it's a mess to list all of them. You can extract from the site but that takes effort
        // if (1) ceases to be true, (2) might be worth the effort. For now, we're leaving as is
        hljsRegister({
            'keyword': "define if cond and or let begin lambda mu quote delay cons-stream set! quasiquote unquote unquote-splicing define-macro"
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script src="./Homework 6 _ CS 61A Summer 2020_files/dark-mode.js.download"></script>
    <link rel="stylesheet" href="./Homework 6 _ CS 61A Summer 2020_files/bootstrap.min.css">
    <link rel="stylesheet" href="./Homework 6 _ CS 61A Summer 2020_files/css">
    <link rel="stylesheet" href="./Homework 6 _ CS 61A Summer 2020_files/style.css">
    <link rel="stylesheet" href="./Homework 6 _ CS 61A Summer 2020_files/mono-blue.css">
    <link rel="icon" href="https://cs61a.org/assets/images/favicon.ico">

    

<link rel="stylesheet" type="text/css" href="./Homework 6 _ CS 61A Summer 2020_files/hw.css">


    <title>
Homework 6 | CS 61A Summer 2020
</title>
  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://cs61a.org/">
            <img style="max-width:60px; margin-top: -20px;" class="logo" src="./Homework 6 _ CS 61A Summer 2020_files/logo.png">
          </a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://cs61a.org/weekly.html">Weekly Schedule</a></li>
            <li><a href="https://cs61a.org/office-hours.html">Office Hours</a></li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="https://cs61a.org/hw/hw06/#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://cs61a.org/instructor.html">Instructors</a></li>
                <li><a href="https://cs61a.org/TAs.html">TAs</a></li>
                <li><a href="https://cs61a.org/tutors.html">Tutors</a></li>
                <!-- <li><a href="/academic-interns.html">Academic Interns</a></li> -->
              </ul>
            </li>
            <li><a href="https://cs61a.org/resources.html">Resources</a></li>
            <li><a href="https://cs61a.org/articles/about.html">Syllabus</a></li>
            <li><a href="https://piazza.com/berkeley/summer2020/cs61a" target="_blank">Piazza</a></li>
            <li><a href="https://denero.org/feedback.html" target="_blank">Feedback</a></li>
            <li><a href="https://edge.edx.org/courses/course-v1:BerkeleyX+CSW61A+2020_SP">EdX</a></li>
            <!-- <li><a href="https://scheme.cs61a.org">Scheme</a></li> -->
            <!-- <li><a href="https://sql.cs61a.org">SQL</a></li> -->
            <li><a href="https://code.cs61a.org/">Code</a></li>
            <li><a href="http://tutor.cs61a.org/">Tutor</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class="row">
  <div class="col-md-9">
    <header>
      <h1>
        
Homework 6: Linked Lists, Trees, and Generators

        
        
        <ul class="inline-block list-inline">
          <li><a href="https://cs61a.org/hw/hw06/hw06.zip" class="label label-outline">hw06.zip</a></li>
        </ul>
        
        
      </h1>
    </header>
    

<p><em>Due by 11:59pm on Tuesday, July 28</em></p>





<h2>Instructions</h2>

<p>Download <a href="https://cs61a.org/hw/hw06/hw06.zip">hw06.zip</a>. Inside the archive, you will find a file called
<a href="https://cs61a.org/hw/hw06/hw06.py">hw06.py</a>, along with a copy of the <code>ok</code> autograder.</p>

<p><strong>Submission:</strong> When you are done, submit with <code>python3 ok
  --submit</code>.  You may submit more than once before the deadline; only the
final submission will be scored. Check that you have successfully submitted
your code on <a href="https://okpy.org/">okpy.org</a>.  See <a href="https://cs61a.org/lab/lab00#submitting-the-assignment">Lab 0</a> for more instructions on
submitting assignments.</p>

<p><strong>Using Ok:</strong> If you have any questions about using Ok, please
refer to <a href="https://cs61a.org/articles/using-ok.html">this guide.</a>


  </p><p><strong>Readings:</strong> You might find the following references
  useful:</p>
  <ul>
  <li><a href="http://composingprograms.com/pages/24-mutable-data.html">Section 2.4</a></li>
  <li><a href="http://composingprograms.com/pages/25-object-oriented-programming.html">Section 2.5</a></li>
  <li><a href="http://composingprograms.com/pages/42-implicit-sequences.html">Section 4.2</a></li>
</ul>
  

<p><strong>Grading:</strong> Homework is graded based on
correctness. Each incorrect problem will decrease the total score by one point. There is a homework recovery policy as stated in the syllabus.
<strong>This homework is out of 3 points.</strong>




    
</p><h1 id="required-questions">Required Questions</h1>



<h2 id="midsemester-survey">Midsemester Survey</h2>


<h3 class="question" id="q1">Q1: Survey</h3>

<p>Please fill out the midsemester survey, <a href="https://docs.google.com/forms/d/e/1FAIpQLSebb-sWiMb-iiGuoIwkwd7rHIE1vftuls6m_leM8TSlAf93Jg/viewform">linked here</a> by the 28th of July! Fill in <code>hw06.py</code> with the token. The link might not work if you are logged
into some google account other than your Berkeley account, so either log out from all
other accounts or open the link in a private/incognito window and sign in to
your Berkeley account there.</p>

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q survey</code></pre>


<h2 id="oop">OOP</h2>


<h3 class="question" id="q2">Q2: Vending Machine</h3>

<p>Create a class called <code>VendingMachine</code> that represents a vending
machine for some product. A <code>VendingMachine</code> object returns strings
describing its interactions.</p>

<p>Fill in the <code>VendingMachine</code> class, adding attributes and methods as
appropriate, such that its behavior matches the following doctests:</p>

<solution>

<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">VendingMachine</span>:</span>
    <span class="hljs-string">"""A vending machine that vends some product for some price.

    &gt;&gt;&gt; v = VendingMachine('candy', 10)
    &gt;&gt;&gt; v.vend()
    'Inventory empty. Restocking required.'
    &gt;&gt;&gt; v.add_funds(15)
    'Inventory empty. Restocking required. Here is your $15.'
    &gt;&gt;&gt; v.restock(2)
    'Current candy stock: 2'
    &gt;&gt;&gt; v.vend()
    'You must add $10 more funds.'
    &gt;&gt;&gt; v.add_funds(7)
    'Current balance: $7'
    &gt;&gt;&gt; v.vend()
    'You must add $3 more funds.'
    &gt;&gt;&gt; v.add_funds(5)
    'Current balance: $12'
    &gt;&gt;&gt; v.vend()
    'Here is your candy and $2 change.'
    &gt;&gt;&gt; v.add_funds(10)
    'Current balance: $10'
    &gt;&gt;&gt; v.vend()
    'Here is your candy.'
    &gt;&gt;&gt; v.add_funds(15)
    'Inventory empty. Restocking required. Here is your $15.'

    &gt;&gt;&gt; w = VendingMachine('soda', 2)
    &gt;&gt;&gt; w.restock(3)
    'Current soda stock: 3'
    &gt;&gt;&gt; w.restock(3)
    'Current soda stock: 6'
    &gt;&gt;&gt; w.add_funds(2)
    'Current balance: $2'
    &gt;&gt;&gt; w.vend()
    'Here is your soda.'
    """</span>
    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</code></pre>

</solution>

<blockquote><p>You may find <a href="https://docs.python.org/2/library/stdtypes.html#str.format">Python string formatting
syntax</a> useful.
A quick example:</p></blockquote>

<pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>ten, twenty, thirty = <span class="hljs-number">10</span>, <span class="hljs-string">'twenty'</span>, [<span class="hljs-number">30</span>]
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">'{0} plus {1} is {2}'</span>.format(ten, twenty, thirty)
<span class="hljs-string">'10 plus twenty is [30]'</span></code></pre>

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q VendingMachine</code></pre>



<h3 class="question" id="q3">Q3: Mint</h3>

<p>Complete the <code>Mint</code> and <code>Coin</code> classes so that the coins created by a mint have
the correct year and worth.</p>

<ul>
  <li>Each <code>Mint</code> instance has a <code>year</code> stamp. The <code>update</code> method sets the
  <code>year</code> stamp to the <code>current_year</code> class attribute of the <code>Mint</code> class.</li>
  <li>The <code>create</code> method takes a subclass of <code>Coin</code> and returns an instance of
  that class stamped with the <code>mint</code>'s year (which may be different from
  <code>Mint.current_year</code> if it has not been updated.)</li>
  <li>A <code>Coin</code>'s <code>worth</code> method returns the <code>cents</code> value of the coin plus one
  extra cent for each year of age beyond 50. A coin's age can be determined
  by subtracting the coin's year from the <code>current_year</code> class attribute of
  the <code>Mint</code> class.</li>
</ul>

<solution>

<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Mint</span>:</span>
    <span class="hljs-string">"""A mint creates coins by stamping on years.

    The update method sets the mint's stamp to Mint.current_year.

    &gt;&gt;&gt; mint = Mint()
    &gt;&gt;&gt; mint.year
    2020
    &gt;&gt;&gt; dime = mint.create(Dime)
    &gt;&gt;&gt; dime.year
    2020
    &gt;&gt;&gt; Mint.current_year = 2100  # Time passes
    &gt;&gt;&gt; nickel = mint.create(Nickel)
    &gt;&gt;&gt; nickel.year     # The mint has not updated its stamp yet
    2020
    &gt;&gt;&gt; nickel.worth()  # 5 cents + (80 - 50 years)
    35
    &gt;&gt;&gt; mint.update()   # The mint's year is updated to 2100
    &gt;&gt;&gt; Mint.current_year = 2175     # More time passes
    &gt;&gt;&gt; mint.create(Dime).worth()    # 10 cents + (75 - 50 years)
    35
    &gt;&gt;&gt; Mint().create(Dime).worth()  # A new mint has the current year
    10
    &gt;&gt;&gt; dime.worth()     # 10 cents + (155 - 50 years)
    115
    &gt;&gt;&gt; Dime.cents = 20  # Upgrade all dimes!
    &gt;&gt;&gt; dime.worth()     # 20 cents + (155 - 50 years)
    125
    """</span>
    current_year = <span class="hljs-number">2020</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self.update()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create</span><span class="hljs-params">(self, kind)</span>:</span>
        <span class="hljs-string">"*** YOUR CODE HERE ***"</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-string">"*** YOUR CODE HERE ***"</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Coin</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, year)</span>:</span>
        self.year = year

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">worth</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-string">"*** YOUR CODE HERE ***"</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Nickel</span><span class="hljs-params">(Coin)</span>:</span>
    cents = <span class="hljs-number">5</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Dime</span><span class="hljs-params">(Coin)</span>:</span>
    cents = <span class="hljs-number">10</span></code></pre>

</solution>

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q Mint</code></pre>


<h2 id="trees">Trees</h2>


<h3 class="question" id="q4">Q4: Is BST</h3>

<p>Write a function <code>is_bst</code>, which takes a Tree <code>t</code> and returns <code>True</code> if, and
only if, <code>t</code> is a valid binary search tree, which means that:</p>

<ul>
  <li>Each node has at most two children (a leaf is automatically a valid binary
  search tree)</li>
  <li>The children are valid binary search trees</li>
  <li>For every node, the entries in that node's left child are less than or equal
  to the label of the node</li>
  <li>For every node, the entries in that node's right child are greater than the
  label of the node</li>
</ul>

<p>An example of a BST is:</p>

<p><img class="img-responsive center-block" src="./Homework 6 _ CS 61A Summer 2020_files/1_F8MmBnUQyOA8-Rajg69nSQ.png" alt="bst"></p>

<p>Note that, if a node has only one child, that child could be considered either
the left or right child. You should take this into consideration.</p>

<p><em>Hint:</em> It may be helpful to write helper functions <code>bst_min</code> and <code>bst_max</code> that
return the minimum and maximum, respectively, of a Tree if it is a valid binary
search tree.</p>

<solution>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">is_bst</span><span class="hljs-params">(t)</span>:</span>
    <span class="hljs-string">"""Returns True if the Tree t has the structure of a valid BST.

    &gt;&gt;&gt; t1 = Tree(6, [Tree(2, [Tree(1), Tree(4)]), Tree(7, [Tree(7), Tree(8)])])
    &gt;&gt;&gt; is_bst(t1)
    True
    &gt;&gt;&gt; t2 = Tree(8, [Tree(2, [Tree(9), Tree(1)]), Tree(3, [Tree(6)]), Tree(5)])
    &gt;&gt;&gt; is_bst(t2)
    False
    &gt;&gt;&gt; t3 = Tree(6, [Tree(2, [Tree(4), Tree(1)]), Tree(7, [Tree(7), Tree(8)])])
    &gt;&gt;&gt; is_bst(t3)
    False
    &gt;&gt;&gt; t4 = Tree(1, [Tree(2, [Tree(3, [Tree(4)])])])
    &gt;&gt;&gt; is_bst(t4)
    True
    &gt;&gt;&gt; t5 = Tree(1, [Tree(0, [Tree(-1, [Tree(-2)])])])
    &gt;&gt;&gt; is_bst(t5)
    True
    &gt;&gt;&gt; t6 = Tree(1, [Tree(4, [Tree(2, [Tree(3)])])])
    &gt;&gt;&gt; is_bst(t6)
    True
    &gt;&gt;&gt; t7 = Tree(2, [Tree(1, [Tree(5)]), Tree(4)])
    &gt;&gt;&gt; is_bst(t7)
    False
    """</span>
    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</code></pre>

</solution>

<br>

<p>Watch the hints video below for somewhere to start:

            <iframe width="560" height="315" src="./Homework 6 _ CS 61A Summer 2020_files/doxVXOrn4AQ.html" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>

<br>

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q is_bst</code></pre>


<h2 id="linked-lists">Linked Lists</h2>


<h3 class="question" id="q5">Q5: Store Digits</h3>

<p>Write a function <code>store_digits</code> that takes in an integer <code>n</code> and returns
a linked list where each element of the list is a digit of <code>n</code>.</p>

<blockquote><p>Note: do not use any string manipulation functions like <code>str</code> and <code>reversed</code></p></blockquote>

<solution>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">store_digits</span><span class="hljs-params">(n)</span>:</span>
    <span class="hljs-string">"""Stores the digits of a positive number n in a linked list.

    &gt;&gt;&gt; s = store_digits(1)
    &gt;&gt;&gt; s
    Link(1)
    &gt;&gt;&gt; store_digits(2345)
    Link(2, Link(3, Link(4, Link(5))))
    &gt;&gt;&gt; store_digits(876)
    Link(8, Link(7, Link(6)))
    &gt;&gt;&gt; # a check for restricted functions
    &gt;&gt;&gt; import inspect, re
    &gt;&gt;&gt; cleaned = re.sub(r"#.*\\n", '', re.sub(r'"{3}[\s\S]*?"{3}', '', inspect.getsource(store_digits)))
    &gt;&gt;&gt; print("Do not use str or reversed!") if any([r in cleaned for r in ["str", "reversed"]]) else None
    """</span>
    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q store_digits</code></pre>


<h2 id="generators-trees">Generators/Trees</h2>


<h3 class="question" id="q6">Q6: Yield Paths</h3>

<p>Define a generator function <code>path_yielder</code> which takes in a Tree <code>t</code>, a value
<code>value</code>, and returns a generator object which yields each path from the root of <code>t</code>
to a node that has label <code>value</code>.</p>

<p><code>t</code> is implemented with a class, not as the function-based ADT.</p>

<p>Each path should be represented as a list of the labels along that path in the
tree. You may yield the paths in any order.</p>

<p>We have provided a (partial) skeleton for you. You do not need to use this skeleton,
but if your implementation diverges significantly from it, you might
want to think about how you can get it to fit the skeleton.</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">path_yielder</span><span class="hljs-params">(t, value)</span>:</span>
    <span class="hljs-string">"""Yields all possible paths from the root of t to a node with the label value
    as a list.

    &gt;&gt;&gt; t1 = Tree(1, [Tree(2, [Tree(3), Tree(4, [Tree(6)]), Tree(5)]), Tree(5)])
    &gt;&gt;&gt; print(t1)
    1
      2
        3
        4
          6
        5
      5
    &gt;&gt;&gt; next(path_yielder(t1, 6))
    [1, 2, 4, 6]
    &gt;&gt;&gt; path_to_5 = path_yielder(t1, 5)
    &gt;&gt;&gt; sorted(list(path_to_5))
    [[1, 2, 5], [1, 5]]

    &gt;&gt;&gt; t2 = Tree(0, [Tree(2, [t1])])
    &gt;&gt;&gt; print(t2)
    0
      2
        1
          2
            3
            4
              6
            5
          5
    &gt;&gt;&gt; path_to_2 = path_yielder(t2, 2)
    &gt;&gt;&gt; sorted(list(path_to_2))
    [[0, 2], [0, 2, 1, 2]]
    """</span>

    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>

    <span class="hljs-keyword">for</span> _______________ <span class="hljs-keyword">in</span> _________________:
        <span class="hljs-keyword">for</span> _______________ <span class="hljs-keyword">in</span> _________________:

            <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</code></pre>

<blockquote><p>Hint: If you're having trouble getting started, think about how you'd approach this
problem if it wasn't a generator function. What would your recursive calls be?
With a generator function, what happens if you make a "recurisve call" within its body?</p></blockquote>

<br>

<p>Watch the hints video below for somewhere to start:

            <iframe width="560" height="315" src="./Homework 6 _ CS 61A Summer 2020_files/43rVEl9ev7M.html" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>

<br>

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q path_yielder</code></pre>




<h2 id="submit">Submit</h2>


<p>Make sure to submit this assignment by running:</p>

<pre><code class="hljs sql">python3 ok <span class="hljs-comment">--submit</span></code></pre>


<h1 id="optional-questions">Optional Questions</h1>


<h3 class="question" id="q7">Q7: Remove All</h3>

<p>Implement a function <code>remove_all</code> that takes a <code>Link</code>, and a <code>value</code>,
and remove any linked list node containing that value.  You can assume the
list already has at least one node containing <code>value</code> and the first element is
never removed. Notice that you are not returning anything, so you should mutate the list.</p>

<solution>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">remove_all</span><span class="hljs-params">(link , value)</span>:</span>
    <span class="hljs-string">"""Remove all the nodes containing value in link. Assume that the
    first element is never removed.

    &gt;&gt;&gt; l1 = Link(0, Link(2, Link(2, Link(3, Link(1, Link(2, Link(3)))))))
    &gt;&gt;&gt; print(l1)
    &lt;0 2 2 3 1 2 3&gt;
    &gt;&gt;&gt; remove_all(l1, 2)
    &gt;&gt;&gt; print(l1)
    &lt;0 3 1 3&gt;
    &gt;&gt;&gt; remove_all(l1, 3)
    &gt;&gt;&gt; print(l1)
    &lt;0 1&gt;
    &gt;&gt;&gt; remove_all(l1, 3)
    &gt;&gt;&gt; print(l1)
    &lt;0 1&gt;
    """</span>
    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</code></pre>

</solution>



<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q remove_all</code></pre>

<h3 class="question" id="q8">Q8: Deep Map</h3>

<p>Implement <code>deep_map</code>, which takes a function <code>f</code> and a <code>link</code>. It returns a
<em>new</em> linked list with the same structure as <code>link</code>, but with <code>f</code> applied to any
element within <code>link</code> or any <code>Link</code> instance contained in <code>link</code>.</p>

<p>The <code>deep_map</code> function should recursively apply <code>fn</code> to each of that
<code>Link</code>'s elements rather than to that <code>Link</code> itself.</p>

<p><em>Hint</em>: You may find the built-in <code>isinstance</code> function useful. You can also use the
<code>type(link) == Link</code> to check whether an object is a linked list (like you did in homework 3
question 1).</p>

<solution>

<pre><code class="hljs sql">def deep_map(f, link):
    """Return a Link <span class="hljs-keyword">with</span> the same structure <span class="hljs-keyword">as</span> <span class="hljs-keyword">link</span> but <span class="hljs-keyword">with</span> fn mapped <span class="hljs-keyword">over</span>
    its elements. <span class="hljs-keyword">If</span> an <span class="hljs-keyword">element</span> <span class="hljs-keyword">is</span> an <span class="hljs-keyword">instance</span> <span class="hljs-keyword">of</span> a linked <span class="hljs-keyword">list</span>, recursively
    <span class="hljs-keyword">apply</span> f inside that linked <span class="hljs-keyword">list</span> <span class="hljs-keyword">as</span> well.

    &gt;&gt;&gt; s = <span class="hljs-keyword">Link</span>(<span class="hljs-number">1</span>, <span class="hljs-keyword">Link</span>(<span class="hljs-keyword">Link</span>(<span class="hljs-number">2</span>, <span class="hljs-keyword">Link</span>(<span class="hljs-number">3</span>)), <span class="hljs-keyword">Link</span>(<span class="hljs-number">4</span>)))
    &gt;&gt;&gt; print(deep_map(lambda x: x * x, s))
    &lt;<span class="hljs-number">1</span> &lt;<span class="hljs-number">4</span> <span class="hljs-number">9</span>&gt; <span class="hljs-number">16</span>&gt;
    &gt;&gt;&gt; print(s) <span class="hljs-comment"># unchanged</span>
    &lt;<span class="hljs-number">1</span> &lt;<span class="hljs-number">2</span> <span class="hljs-number">3</span>&gt; <span class="hljs-number">4</span>&gt;
    &gt;&gt;&gt; print(deep_map(lambda x: <span class="hljs-number">2</span> * x, <span class="hljs-keyword">Link</span>(s, <span class="hljs-keyword">Link</span>(<span class="hljs-keyword">Link</span>(<span class="hljs-keyword">Link</span>(<span class="hljs-number">5</span>))))))
    &lt;&lt;<span class="hljs-number">2</span> &lt;<span class="hljs-number">4</span> <span class="hljs-number">6</span>&gt; <span class="hljs-number">8</span>&gt; &lt;&lt;<span class="hljs-number">10</span>&gt;&gt;&gt;
    <span class="hljs-string">"""
    "</span>*** YOUR CODE HERE ***<span class="hljs-string">"
</span></code></pre>

</solution>

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q deep_map</code></pre>

<script>
    $('.alwaystoggle').css('display', 'inline-block');
    $('.alwaystoggle').click(function() {
      var solution_id = $(this).attr('id');
      $('div.' + solution_id).slideToggle(600);
    });
</script>


  </div>

  <div class="col-md-3 sticky">
    <nav class="hidden-print hidden-sm hidden-xs sidebar">
      <ul class="nav nav-stacked noselect">
  <li><a href="https://cs61a.org/hw/hw06/#required-questions">Required Questions</a></li>
  <ul class="nav nav-stacked noselect">
    <li><a href="https://cs61a.org/hw/hw06/#midsemester-survey">Midsemester Survey</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/hw/hw06/#q1">Q1: Survey</a></li>
    </ul>
    <li><a href="https://cs61a.org/hw/hw06/#oop">OOP</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/hw/hw06/#q2">Q2: Vending Machine</a></li>
      <li><a href="https://cs61a.org/hw/hw06/#q3">Q3: Mint</a></li>
    </ul>
    <li><a href="https://cs61a.org/hw/hw06/#trees">Trees</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/hw/hw06/#q4">Q4: Is BST</a></li>
    </ul>
    <li><a href="https://cs61a.org/hw/hw06/#linked-lists">Linked Lists</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/hw/hw06/#q5">Q5: Store Digits</a></li>
    </ul>
    <li><a href="https://cs61a.org/hw/hw06/#generators-trees">Generators/Trees</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/hw/hw06/#q6">Q6: Yield Paths</a></li>
    </ul>
    <li><a href="https://cs61a.org/hw/hw06/#submit">Submit</a></li>
  </ul>
  <li><a href="https://cs61a.org/hw/hw06/#optional-questions">Optional Questions</a></li>
  <ul class="nav nav-stacked noselect">
    <li><a href="https://cs61a.org/hw/hw06/#q7">Q7: Remove All</a></li>
    <li><a href="https://cs61a.org/hw/hw06/#q8">Q8: Deep Map</a></li>
  </ul>
</ul>
    </nav>
  </div>
</div>

    </main>

    <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/weekly.html">Weekly Schedule</a></li>
            <li><a href="https://cs61a.org/office-hours.html">Office Hours</a></li>
            <li><a href="https://cs61a.org/staff.html">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/resources.html">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/articles/studying.html">Studying Guide</a></li>
            <li><a href="https://cs61a.org/articles/debugging.html">Debugging Guide</a></li>
            <li><a href="https://cs61a.org/articles/composition.html">Composition Guide</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/articles/about.html">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/articles/about.html#assignments">Assignments</a></li>
            <li><a href="https://cs61a.org/articles/about.html#exams">Exams</a></li>
            <li><a href="https://cs61a.org/articles/about.html#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer>

    

<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    console.log(target);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      // window.scrollTo(0, 0);
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      event.preventDefault();
      goToId(this.hash);
      document.location.hash = this.hash;
    }
  });
</script>

  
</body></html>